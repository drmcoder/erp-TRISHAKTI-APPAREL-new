import{j as e,u as J}from"./query-vendor.BbCCZTU0.js";import{r as c,u as ie,f as ne}from"./react-vendor.BcnQP8kQ.js";import{C as u,a as C,h as Y,B as v}from"./index.BnZjV7b3.js";import{I as b}from"./Input.D8gd7mOf.js";import{L as U}from"./LoadingSpinner.-iQp5F13.js";import{F as R,E as ce}from"./empty-state.CKTdz-Ar.js";import{a as z,o as X,M as B,S as ee}from"./operator-service.BvbEc7Oq.js";import{F as P}from"./ClockIcon.DbOxfhcH.js";import{F as se}from"./PlusIcon.C8HC3Ss7.js";import{F as $}from"./UserGroupIcon.D7JnDaPi.js";import{F as ae}from"./MagnifyingGlassIcon.BaFANGzr.js";import{a as de,F as _}from"./FunnelIcon.9XpXXQBW.js";import{F as oe}from"./ArrowLeftIcon.BArH4jor.js";import{F as me}from"./CurrencyRupeeIcon.CCku5vMm.js";import{o as Z,s as q,p as xe,a as he,$ as pe,b as te,u as ue,c as je,d as k,n as fe,_ as Q,e as K,l as ge}from"./form-vendor.01VXZgg6.js";import{F as H}from"./UserIcon.x-aGQUUd.js";import"./ui-vendor.B7YYMSVe.js";import"./utils-vendor.B0NEtgzl.js";import"./firebase-vendor.BZUNkHzc.js";import"./base-service.9pve6B0A.js";import"./firebase.BVb4kvNg.js";function ve({title:s,titleId:n,...t},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},t),s?c.createElement("title",{id:n},s):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const re=c.forwardRef(ve);function ye({title:s,titleId:n,...t},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},t),s?c.createElement("title",{id:n},s):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Ne=c.forwardRef(ye);function be({title:s,titleId:n,...t},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},t),s?c.createElement("title",{id:n},s):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"}))}const we=c.forwardRef(be);function ke({title:s,titleId:n,...t},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},t),s?c.createElement("title",{id:n},s):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Ce=c.forwardRef(ke);function Se({title:s,titleId:n,...t},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},t),s?c.createElement("title",{id:n},s):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ee=c.forwardRef(Se);function Oe({title:s,titleId:n,...t},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},t),s?c.createElement("title",{id:n},s):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Ae=c.forwardRef(Oe);function Me({title:s,titleId:n,...t},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},t),s?c.createElement("title",{id:n},s):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const W=c.forwardRef(Me),le=({operator:s,onView:n,onEdit:t,onStatusChange:a,className:p=""})=>{const i=z[s.currentStatus]||z.offline,d=()=>{if(s.avatar)switch(s.avatar.type){case"emoji":return e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-100 flex items-center justify-center text-2xl",children:s.avatar.value});case"photo":return e.jsx("img",{src:s.avatar.value,alt:s.name,className:"h-12 w-12 rounded-full object-cover"});case"initials":return e.jsx("div",{className:"h-12 w-12 rounded-full flex items-center justify-center text-white font-semibold",style:{backgroundColor:s.avatar.backgroundColor||"#3B82F6"},children:s.avatar.value})}const r=s.name.split(" ").map(j=>j.charAt(0)).join("").toUpperCase().slice(0,2);return e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-400 flex items-center justify-center text-white font-semibold",children:r})};return e.jsxs(u,{className:`p-4 hover:shadow-md transition-shadow ${p}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[d(),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",s.employeeId]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(C,{variant:i.color,className:"flex items-center space-x-1",children:[e.jsx("span",{children:i.icon}),e.jsx("span",{className:"hidden sm:inline",children:i.label})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Machine"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.primaryMachine})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Efficiency"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[Math.round(s.efficiency*100),"%"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Quality"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[Math.round(s.qualityScore*100),"%"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Current Work"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.currentWork||"None"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v,{variant:"ghost",size:"sm",onClick:n,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:"View Details"}),e.jsx(v,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-600 hover:text-gray-700 hover:bg-gray-50",children:"Edit"})]}),a&&e.jsx(v,{variant:"ghost",size:"sm",onClick:a,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:"Update Status"})]})]})},O={all:["operators"],lists:()=>[...O.all,"list"],list:s=>[...O.lists(),{filters:s}],details:()=>[...O.all,"detail"],detail:s=>[...O.details(),s],status:s=>[...O.all,"status",s]};function Fe(s){return J({queryKey:O.lists(),queryFn:()=>X.getOperatorsSummary(),staleTime:300*1e3,gcTime:600*1e3,...s})}function Le(s,n){return J({queryKey:O.status(s),queryFn:()=>X.getOperatorWithStatus(s),enabled:!!s,staleTime:30*1e3,refetchInterval:60*1e3,...n})}const Te=({onCreateNew:s,onViewOperator:n,onEditOperator:t})=>{const[a,p]=c.useState(""),[i,d]=c.useState("all"),[r,j]=c.useState("all"),[x,N]=c.useState("all"),[m,g]=c.useState(!1),{data:h,isLoading:V,error:E,refetch:M}=Fe({refetchInterval:60*1e3}),y=h?.success?h.data:[],F=c.useMemo(()=>y.filter(o=>{const S=a===""||o.name.toLowerCase().includes(a.toLowerCase())||o.employeeId.toLowerCase().includes(a.toLowerCase()),L=i==="all"||o.currentStatus===i,T=r==="all"||o.primaryMachine===r;return S&&L&&T}),[y,a,i,r]),A=c.useMemo(()=>{const o=y.length,S=y.filter(l=>l.currentStatus==="working").length,L=y.filter(l=>l.currentStatus==="idle").length,T=y.reduce((l,f)=>l+f.efficiency,0)/o||0;return{total:o,active:S,available:L,avgEfficiency:T}},[y]);return V?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(U,{size:"lg"})}):E?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load operators"}),e.jsx(v,{onClick:()=>M(),children:"Try Again"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Operators"}),e.jsx("p",{className:"text-gray-600",children:"Manage and monitor operator performance"})]}),s&&e.jsxs(v,{onClick:s,className:"flex items-center space-x-2",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Operator"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.total})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Working"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:A.active})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Available"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:A.available})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-2 w-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Efficiency"})]}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[Math.round(A.avgEfficiency*100),"%"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(b,{placeholder:"Search operators by name or ID...",value:a,onChange:o=>p(o.target.value),className:"pl-10"})]})}),e.jsxs(v,{variant:"ghost",onClick:()=>g(!m),className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"}),(i!=="all"||r!=="all"||x!=="all")&&e.jsx(C,{variant:"primary",className:"ml-1",children:[i,r,x].filter(o=>o!=="all").length})]})]}),m&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:i,onChange:o=>d(o.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),Object.entries(z).map(([o,S])=>e.jsxs("option",{value:o,children:[S.icon," ",S.label]},o))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Machine Type"}),e.jsxs("select",{value:r,onChange:o=>j(o.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Machines"}),B.map(o=>e.jsxs("option",{value:o.machineType,children:[o.displayName," (",o.nepaliName,")"]},o.machineType))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skill Level"}),e.jsxs("select",{value:x,onChange:o=>N(o.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Levels"}),ee.map(o=>e.jsxs("option",{value:o.value,children:[o.label," (",o.nepaliLabel,")"]},o.value))]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(v,{variant:"ghost",size:"sm",onClick:()=>{d("all"),j("all"),N("all"),p("")},children:"Clear Filters"})})]})]}),e.jsx("div",{children:F.length===0?e.jsx(ce,{icon:$,title:"No operators found",description:a||i!=="all"||r!=="all"?"Try adjusting your filters to see more operators":"Get started by adding your first operator",action:s?e.jsx(v,{onClick:s,children:"Add First Operator"}):void 0}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[F.length," of ",y.length," operators"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(o=>e.jsx(le,{operator:o,onView:()=>n?.(o.id),onEdit:()=>t?.(o.id)},o.id))})]})})]})},Ie=()=>{const{id:s}=ie(),n=ne(),[t,a]=c.useState("overview"),{data:p,isLoading:i,error:d}=Le(s,{enabled:!!s});if(i)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(U,{size:"lg"})});if(d||!p?.success||!p.data)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Operator not found"}),e.jsx(v,{onClick:()=>n("/operators"),children:"Back to Operators"})]});const r=p.data,j=r.realtimeStatus,x=z[j.status],N=()=>{if(r.avatar)switch(r.avatar.type){case"emoji":return e.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-100 flex items-center justify-center text-4xl",children:r.avatar.value});case"photo":return e.jsx("img",{src:r.avatar.value,alt:r.name,className:"h-20 w-20 rounded-full object-cover"});case"initials":return e.jsx("div",{className:"h-20 w-20 rounded-full flex items-center justify-center text-white font-bold text-xl",style:{backgroundColor:r.avatar.backgroundColor||"#3B82F6"},children:r.avatar.value})}const m=r.name.split(" ").map(g=>g.charAt(0)).join("").toUpperCase().slice(0,2);return e.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-400 flex items-center justify-center text-white font-bold text-xl",children:m})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(v,{variant:"ghost",onClick:()=>n("/operators"),className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{children:"Back"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Operator Details"}),e.jsx("p",{className:"text-gray-600",children:"View and manage operator information"})]})]}),e.jsxs(v,{onClick:()=>n(`/operators/${s}/edit`),className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"h-4 w-4"}),e.jsx("span",{children:"Edit"})]})]}),e.jsx(u,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[N(),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.name}),e.jsxs(C,{variant:x?.color,className:"flex items-center space-x-1",children:[e.jsx("span",{children:x?.icon}),e.jsx("span",{children:x?.label})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Employee ID"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.employeeId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Username"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.username})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Primary Machine"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.primaryMachine})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Skill Level"}),e.jsx("p",{className:"font-medium text-gray-900 capitalize",children:r.skillLevel})]})]})]})]})}),e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Status"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`h-3 w-3 rounded-full ${x?.color==="green"?"bg-green-500":x?.color==="yellow"?"bg-yellow-500":x?.color==="blue"?"bg-blue-500":"bg-gray-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("p",{className:"font-medium text-gray-900",children:x?.label})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(P,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Current Work"}),e.jsx("p",{className:"font-medium text-gray-900",children:j.currentWork||"None"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Machine Status"}),e.jsx("p",{className:"font-medium text-gray-900 capitalize",children:j.machineStatus})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Last Activity"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(j.lastActivity).toLocaleTimeString()})]})]})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"overview",label:"Overview"},{key:"performance",label:"Performance"},{key:"activity",label:"Activity"}].map(m=>e.jsx("button",{onClick:()=>a(m.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${t===m.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:m.label},m.key))})}),t==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),e.jsxs("div",{className:"space-y-4",children:[r.email&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.email})]})]}),r.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ae,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.phone})]})]}),r.address&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ce,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.address})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Hired Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(r.hiredDate).toLocaleDateString()})]})]})]})]}),e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Work Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Machine Types"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:r.machineTypes?.map(m=>{const g=B.find(h=>h.machineType===m);return e.jsx(C,{variant:"secondary",children:g?.displayName||m},m)})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(W,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:r.specializations?.map(m=>e.jsx(C,{variant:"outline",children:m},m))||e.jsx("p",{className:"text-gray-400 text-sm",children:"None specified"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(P,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Shift"}),e.jsx("p",{className:"font-medium text-gray-900 capitalize",children:r.shift})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-5 w-5 text-gray-400 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold",children:"#"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Max Concurrent Work"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.maxConcurrentWork})]})]})]})]})]}),t==="performance"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(Y,{className:"h-6 w-6 text-yellow-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Efficiency"})]}),e.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[Math.round(r.averageEfficiency*100),"%"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Average performance"})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(re,{className:"h-6 w-6 text-green-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quality"})]}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[Math.round(r.qualityScore*100),"%"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Quality score"})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"h-6 w-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"B"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Bundles"})]}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.completedBundles}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Completed"})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(me,{className:"h-6 w-6 text-purple-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Earnings"})]}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["â‚¹",r.totalEarnings?.toLocaleString()||0]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Total earned"})]})]}),t==="activity"&&e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(P,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Activity log will be displayed here"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Feature coming soon"})]})]})]})};function G(s,n){try{var t=s()}catch(a){return n(a)}return t&&t.then?t.then(void 0,n):t}function Pe(s,n){for(var t={};s.length;){var a=s[0],p=a.code,i=a.message,d=a.path.join(".");if(!t[d])if("unionErrors"in a){var r=a.unionErrors[0].errors[0];t[d]={message:r.message,type:r.code}}else t[d]={message:i,type:p};if("unionErrors"in a&&a.unionErrors.forEach(function(N){return N.errors.forEach(function(m){return s.push(m)})}),n){var j=t[d].types,x=j&&j[a.code];t[d]=te(d,n,t,p,x?[].concat(x,a.message):a.message)}s.shift()}return t}function Re(s,n){for(var t={};s.length;){var a=s[0],p=a.code,i=a.message,d=a.path.join(".");if(!t[d])if(a.code==="invalid_union"&&a.errors.length>0){var r=a.errors[0][0];t[d]={message:r.message,type:r.code}}else t[d]={message:i,type:p};if(a.code==="invalid_union"&&a.errors.forEach(function(N){return N.forEach(function(m){return s.push(m)})}),n){var j=t[d].types,x=j&&j[a.code];t[d]=te(d,n,t,p,x?[].concat(x,a.message):a.message)}s.shift()}return t}function ze(s,n,t){if(t===void 0&&(t={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(s))return function(a,p,i){try{return Promise.resolve(G(function(){return Promise.resolve(s[t.mode==="sync"?"parse":"parseAsync"](a,n)).then(function(d){return i.shouldUseNativeValidation&&Z({},i),{errors:{},values:t.raw?Object.assign({},a):d}})},function(d){if((function(r){return Array.isArray(r?.issues)})(d))return{values:{},errors:q(Pe(d.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw d}))}catch(d){return Promise.reject(d)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(s))return function(a,p,i){try{return Promise.resolve(G(function(){return Promise.resolve((t.mode==="sync"?xe:he)(s,a,n)).then(function(d){return i.shouldUseNativeValidation&&Z({},i),{errors:{},values:t.raw?Object.assign({},a):d}})},function(d){if((function(r){return r instanceof pe})(d))return{values:{},errors:q(Re(d.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw d}))}catch(d){return Promise.reject(d)}};throw new Error("Invalid input: not a Zod schema")}const Be=je({username:k().min(3,"Username must be at least 3 characters"),name:k().min(2,"Name must be at least 2 characters"),employeeId:k().min(1,"Employee ID is required"),email:k().email("Invalid email format").optional().or(ge("")),phone:k().optional(),address:k().optional(),primaryMachine:k().min(1,"Primary machine is required"),machineTypes:K(k()).min(1,"At least one machine type required"),skillLevel:Q(["beginner","intermediate","advanced","expert"]),specializations:K(k()).optional(),shift:Q(["morning","afternoon","night"]),maxConcurrentWork:fe().min(1).max(10),hiredDate:k().min(1,"Hired date is required")}),$e=["ðŸ‘¨â€ðŸ’¼","ðŸ‘©â€ðŸ’¼","ðŸ‘¨â€ðŸ”§","ðŸ‘©â€ðŸ”§","ðŸ‘¨â€ðŸ­","ðŸ‘©â€ðŸ­","ðŸ§‘â€ðŸ’»","ðŸ‘¨â€ðŸ’»","ðŸ‘©â€ðŸ’»","ðŸ¥·","ðŸ‘¤","ðŸ”§"],D=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#F97316","#06B6D4","#84CC16"],We=({initialData:s,onSubmit:n,onCancel:t,isLoading:a=!1,mode:p})=>{const[i,d]=c.useState(null),[r,j]=c.useState(""),{register:x,handleSubmit:N,watch:m,setValue:g,formState:{errors:h,isValid:V}}=ue({resolver:ze(Be),defaultValues:{username:s?.username||"",name:s?.name||"",employeeId:s?.employeeId||"",email:s?.email||"",phone:s?.phone||"",address:s?.address||"",primaryMachine:s?.primaryMachine||"",machineTypes:s?.machineTypes||[],skillLevel:s?.skillLevel||"beginner",specializations:s?.specializations||[],shift:s?.shift||"morning",maxConcurrentWork:s?.maxConcurrentWork||1,hiredDate:s?.hiredDate?new Date(s.hiredDate).toISOString().split("T")[0]:""}}),E=m(),M=m("machineTypes")||[],y=m("specializations")||[];c.useEffect(()=>{s?.avatar&&d({type:s.avatar.type,value:s.avatar.value,backgroundColor:s.avatar.backgroundColor,label:s.avatar.type==="emoji"||s.avatar.type==="initials"?s.avatar.value:"Photo"})},[s]);const F=l=>{const f=l.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2);return{type:"initials",value:f,backgroundColor:D[Math.floor(Math.random()*D.length)],label:f}};c.useEffect(()=>{E.name&&!i&&p==="create"&&d(F(E.name))},[E.name,i,p]);const A=l=>{const f=M,w=f.includes(l)?f.filter(I=>I!==l):[...f,l];g("machineTypes",w,{shouldValidate:!0})},o=()=>{r.trim()&&(g("specializations",[...y,r.trim()]),j(""))},S=l=>{g("specializations",y.filter((w,I)=>I!==l))},L=async l=>{const f={...l,hiredDate:new Date(l.hiredDate),avatar:i?{type:i.type,value:i.value,backgroundColor:i.backgroundColor}:void 0,email:l.email||void 0,phone:l.phone||void 0,address:l.address||void 0,specializations:l.specializations?.filter(w=>w.trim())||[]};await n(f)},T=()=>{if(!i)return null;switch(i.type){case"emoji":return e.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-100 flex items-center justify-center text-3xl",children:i.value});case"initials":return e.jsx("div",{className:"h-16 w-16 rounded-full flex items-center justify-center text-white font-bold text-xl",style:{backgroundColor:i.backgroundColor},children:i.value});case"photo":return e.jsx("img",{src:i.value,alt:"Avatar",className:"h-16 w-16 rounded-full object-cover"})}};return e.jsxs("form",{onSubmit:N(L),className:"space-y-6",children:[e.jsxs(u,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(H,{className:"h-5 w-5"}),e.jsx("span",{children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),e.jsx(b,{...x("username"),placeholder:"Enter username",className:h.username?"border-red-500":""}),h.username&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.username.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx(b,{...x("name"),placeholder:"Enter full name",className:h.name?"border-red-500":""}),h.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee ID *"}),e.jsx(b,{...x("employeeId"),placeholder:"Enter employee ID",className:h.employeeId?"border-red-500":""}),h.employeeId&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.employeeId.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx(b,{...x("email"),type:"email",placeholder:"Enter email address",className:h.email?"border-red-500":""}),h.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx(b,{...x("phone"),placeholder:"Enter phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hired Date *"}),e.jsx(b,{...x("hiredDate"),type:"date",className:h.hiredDate?"border-red-500":""}),h.hiredDate&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.hiredDate.message})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx(b,{...x("address"),placeholder:"Enter full address"})]})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(we,{className:"h-5 w-5"}),e.jsx("span",{children:"Avatar"})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Preview"}),T()||e.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(H,{className:"h-8 w-8 text-gray-400"})})]}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose Emoji"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:$e.map((l,f)=>e.jsx("button",{type:"button",onClick:()=>d({type:"emoji",value:l,label:l}),className:`p-2 rounded-lg border text-2xl hover:bg-gray-50 ${i?.type==="emoji"&&i?.value===l?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:l},f))})]}),E.name&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or Use Initials"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:D.map((l,f)=>{const w=E.name.split(" ").map(I=>I.charAt(0)).join("").toUpperCase().slice(0,2);return e.jsx("button",{type:"button",onClick:()=>d({type:"initials",value:w,backgroundColor:l,label:w}),className:`h-12 w-12 rounded-full flex items-center justify-center text-white font-semibold border-2 ${i?.type==="initials"&&i?.backgroundColor===l?"border-gray-800":"border-transparent"}`,style:{backgroundColor:l},children:w},f)})})]})]})})]})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(R,{className:"h-5 w-5"}),e.jsx("span",{children:"Work Information"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Machine Types * (Select all applicable)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:B.map(l=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:M.includes(l.machineType),onChange:()=>A(l.machineType),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("span",{className:"text-sm text-gray-900",children:[l.displayName,e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",l.nepaliName,")"]})]})]},l.machineType))}),h.machineTypes&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.machineTypes.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Machine *"}),e.jsxs("select",{...x("primaryMachine"),className:`w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${h.primaryMachine?"border-red-500":""}`,children:[e.jsx("option",{value:"",children:"Select primary machine"}),B.filter(l=>M.includes(l.machineType)).map(l=>e.jsxs("option",{value:l.machineType,children:[l.displayName," (",l.nepaliName,")"]},l.machineType))]}),h.primaryMachine&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.primaryMachine.message})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skill Level *"}),e.jsx("select",{...x("skillLevel"),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:ee.map(l=>e.jsxs("option",{value:l.value,children:[l.label," (",l.nepaliLabel,")"]},l.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift *"}),e.jsxs("select",{...x("shift"),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"morning",children:"Morning (à¤¬à¤¿à¤¹à¤¾à¤¨)"}),e.jsx("option",{value:"afternoon",children:"Afternoon (à¤¦à¤¿à¤‰à¤à¤¸à¥‹)"}),e.jsx("option",{value:"night",children:"Night (à¤°à¤¾à¤¤à¥€)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Concurrent Work *"}),e.jsx(b,{...x("maxConcurrentWork",{valueAsNumber:!0}),type:"number",min:"1",max:"10",placeholder:"Maximum concurrent work items",className:h.maxConcurrentWork?"border-red-500":""}),h.maxConcurrentWork&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.maxConcurrentWork.message})]})]})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(W,{className:"h-5 w-5"}),e.jsx("span",{children:"Specializations"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(b,{value:r,onChange:l=>j(l.target.value),placeholder:"Add specialization...",onKeyPress:l=>l.key==="Enter"&&(l.preventDefault(),o())}),e.jsx(v,{type:"button",onClick:o,variant:"secondary",disabled:!r.trim(),children:"Add"})]}),y.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((l,f)=>e.jsxs(C,{variant:"outline",className:"flex items-center space-x-2",children:[e.jsx("span",{children:l}),e.jsx("button",{type:"button",onClick:()=>S(f),className:"text-gray-400 hover:text-gray-600",children:"Ã—"})]},f))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx(v,{type:"button",variant:"ghost",onClick:t,disabled:a,children:"Cancel"}),e.jsxs(v,{type:"submit",disabled:!V||a,className:"flex items-center space-x-2",children:[a&&e.jsx(U,{size:"sm"}),e.jsx("span",{children:p==="create"?"Create Operator":"Update Operator"})]})]})]})},cs=({userRole:s="supervisor"})=>{const[n,t]=c.useState("overview"),[a,p]=c.useState(""),[i,d]=c.useState(""),r={totalOperators:156,activeOperators:142,onBreakOperators:8,offlineOperators:6,averageEfficiency:87.3,topPerformer:"Maya Sharma"},j=[{id:"op-maya-001",name:"Maya Sharma",employeeId:"EMP001",skills:["Cutting","Sewing","Finishing"],efficiency:94.5,activeAssignments:3,completedToday:12,status:"Active",avatar:"/avatars/maya.jpg",joinDate:new Date("2023-03-15")},{id:"op-rajesh-002",name:"Rajesh Kumar",employeeId:"EMP002",skills:["Sewing","Quality Check"],efficiency:91.2,activeAssignments:2,completedToday:8,status:"Active",avatar:"/avatars/rajesh.jpg",joinDate:new Date("2023-01-20")},{id:"op-priya-003",name:"Priya Singh",employeeId:"EMP003",skills:["Cutting","Pattern Making"],efficiency:89.8,activeAssignments:1,completedToday:6,status:"On Break",avatar:"/avatars/priya.jpg",joinDate:new Date("2023-05-10")},{id:"op-amit-004",name:"Amit Patel",employeeId:"EMP004",skills:["Finishing","Packing"],efficiency:85.6,activeAssignments:4,completedToday:15,status:"Active",avatar:"/avatars/amit.jpg",joinDate:new Date("2022-11-08")}],x=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(u,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx($,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Operators"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalOperators})]})]})}),e.jsx(u,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(P,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Now"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.activeOperators})]})]})}),e.jsx(u,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(W,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Efficiency"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.averageEfficiency,"%"]})]})]})}),e.jsx(u,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(W,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Top Performer"}),e.jsx("p",{className:"text-lg font-bold text-purple-600",children:r.topPerformer})]})]})})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Operator Management"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(b,{placeholder:"Search operators...",value:i,onChange:m=>d(m.target.value),className:"pl-10 w-64"})]}),e.jsxs(v,{onClick:()=>t("form"),className:"flex items-center space-x-2",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Operator"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:j.filter(m=>m.name.toLowerCase().includes(i.toLowerCase())||m.employeeId.toLowerCase().includes(i.toLowerCase())||m.skills.some(g=>g.toLowerCase().includes(i.toLowerCase()))).map(m=>e.jsx(le,{operator:m,onView:g=>{p(g),t("detail")},onEdit:g=>{p(g),t("form")},showActions:s==="supervisor"},m.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Operator Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Active"})]}),e.jsx("span",{className:"text-sm font-medium",children:r.activeOperators})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"On Break"})]}),e.jsx("span",{className:"text-sm font-medium",children:r.onBreakOperators})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Offline"})]}),e.jsx("span",{className:"text-sm font-medium",children:r.offlineOperators})]})]})]}),e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Skills"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sewing"}),e.jsx(C,{variant:"secondary",children:"45 operators"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Cutting"}),e.jsx(C,{variant:"secondary",children:"32 operators"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Finishing"}),e.jsx(C,{variant:"secondary",children:"28 operators"})]})]})]}),e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Avg Completion Rate"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"92.4%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Quality Score"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"89.7%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Attendance Rate"}),e.jsx("span",{className:"text-sm font-medium text-purple-600",children:"96.1%"})]})]})]})]})]}),N=()=>{switch(n){case"overview":return x();case"list":return e.jsx(Te,{onSelectOperator:m=>{p(m),t("detail")}});case"detail":return a?e.jsx(Ie,{operatorId:a,onEdit:()=>t("form"),onBack:()=>t("overview")}):x();case"form":return e.jsx(We,{operatorId:a,onSave:()=>{t("overview"),p("")},onCancel:()=>{t("overview"),p("")}});default:return x()}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[e.jsx($,{className:"h-8 w-8 text-blue-600"}),e.jsx("span",{children:"Operator Management"})]}),e.jsx("p",{className:"text-gray-600",children:"Manage operators, skills, and performance"})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>t("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Overview"}),e.jsx("button",{onClick:()=>t("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="list"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"All Operators"}),a&&e.jsx("button",{onClick:()=>t("detail"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="detail"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Operator Details"}),s==="supervisor"&&e.jsx("button",{onClick:()=>t("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="form"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:a?"Edit Operator":"Add Operator"})]})}),N()]})};export{cs as OperatorManagementDashboard};
