import{j as e}from"./query-vendor.DpsghfSz.js";import{r as t}from"./react-vendor.CfKEcsXX.js";import{a as c,B as o,A as N,q as F,C as l,F as D,p as T}from"./index.CUWf0ERd.js";import{L as R}from"./LoadingSpinner.DUO60hBS.js";import{F as B}from"./ChartBarIcon.CTULyxD7.js";import{F as f}from"./ClockIcon.B0z2Gpg3.js";import{F as b}from"./TrophyIcon.6rCjTYDC.js";import{F as _}from"./UserIcon.BzFG2rMW.js";import{F as L}from"./CalendarDaysIcon.DrGkQZXF.js";import{F as y}from"./StarIcon.WwJcLCr3.js";import{F as q}from"./HashtagIcon.BDWlCnOX.js";import{F as M}from"./HandRaisedIcon.Cfns5nHo.js";import"./ui-vendor.D450QVBF.js";import"./firebase-vendor.D8xw0AXf.js";import"./utils-vendor.B0NEtgzl.js";function O({title:m,titleId:x,...a},p){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":x},a),m?t.createElement("title",{id:x},m):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const I=t.forwardRef(O),ie=({operatorId:m="op_maya",userRole:x})=>{const[a,p]=t.useState(null),[h,v]=t.useState([]),[w,u]=t.useState(!0),[n,j]=t.useState([]),[z,S]=t.useState(!1),[d,g]=t.useState("overview");t.useEffect(()=>{k()},[m]);const k=async()=>{u(!0),await new Promise(i=>setTimeout(i,800));const s={id:"op_maya",name:"Maya Patel",employeeId:"EMP-001",machineType:"overlock",skillLevel:"expert",experience:5,joinDate:new Date("2019-03-15"),specialties:["shoulder_join","side_seam","neck_binding"],efficiency:94.5,qualityScore:9.2,currentWorkload:2,maxCapacity:5,status:"available",shift:"morning",todayStats:{completedOperations:8,totalPieces:156,earnings:780,hoursWorked:6.5,averageTimePerPiece:2.5,defectRate:.8},weeklyStats:{totalEarnings:4680,totalPieces:936,averageEfficiency:93.2,completedBundles:24},currentAssignments:[{id:"assign_1",bundleNumber:"BND-3233-M-001",operationName:"Shoulder Join",operationNameNepali:"काँध जोड्ने",assignedAt:new Date(Date.now()-7200*1e3),estimatedTime:120,progress:65,status:"in_progress"},{id:"assign_2",bundleNumber:"BND-3265-L-002",operationName:"Side Seam",operationNameNepali:"छेउ सिलाई",assignedAt:new Date(Date.now()-1800*1e3),estimatedTime:90,progress:0,status:"pending"}],recentWork:[{bundleNumber:"BND-3401-S-001",operationName:"Neck Binding",completedAt:new Date(Date.now()-14400*1e3),timeSpent:85,piecesCompleted:25,earnings:87.5,qualityScore:9.5},{bundleNumber:"BND-3233-L-003",operationName:"Shoulder Join",completedAt:new Date(Date.now()-360*60*1e3),timeSpent:110,piecesCompleted:30,earnings:105,qualityScore:9.8}]},r=[{id:"work_1",bundleNumber:"BND-3522-M-001",operationName:"Shoulder Join",operationNameNepali:"काँध जोड्ने",machineType:"overlock",requiredSkill:"shoulder_join",timePerPiece:4.2,pricePerPiece:2.8,totalPieces:25,estimatedEarnings:70,priority:"high",compatibility:98},{id:"work_2",bundleNumber:"BND-3678-L-002",operationName:"Side Seam",operationNameNepali:"छेउ सिलाई",machineType:"overlock",requiredSkill:"side_seam",timePerPiece:5.1,pricePerPiece:3.2,totalPieces:22,estimatedEarnings:70.4,priority:"urgent",compatibility:96},{id:"work_3",bundleNumber:"BND-3721-S-001",operationName:"Neck Binding",operationNameNepali:"घाँटी बाँध्ने",machineType:"overlock",requiredSkill:"neck_binding",timePerPiece:3.8,pricePerPiece:2.1,totalPieces:30,estimatedEarnings:63,priority:"normal",compatibility:94},{id:"work_4",bundleNumber:"BND-3401-XL-003",operationName:"Sleeve Attach",operationNameNepali:"आस्तीन लगाउने",machineType:"singleNeedle",requiredSkill:"sleeve_attach",timePerPiece:6.8,pricePerPiece:4.2,totalPieces:18,estimatedEarnings:75.6,priority:"high",compatibility:35}];p(s),v(r.filter(i=>i.compatibility>=80)),u(!1)},P=s=>{j(r=>r.includes(s)?r.filter(i=>i!==s):[...r,s])},A=async()=>{if(n.length===0)return;const r=h.filter(i=>n.includes(i.id)).reduce((i,$)=>i+$.estimatedEarnings,0);alert(`✅ Work assigned successfully!

Assigned ${n.length} operations to ${a?.name}
Estimated earnings: $${r.toFixed(2)}`),j([]),S(!1)},C=s=>{switch(s){case"urgent":return"danger";case"high":return"warning";case"normal":return"info";case"low":return"secondary";default:return"secondary"}},E=s=>{switch(s){case"available":return"text-green-600 bg-green-100";case"busy":return"text-blue-600 bg-blue-100";case"break":return"text-yellow-600 bg-yellow-100";case"offline":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},W=s=>s>=90?"text-green-600 bg-green-100":s>=70?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return w?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(R,{text:"Loading operator profile..."})}):a?e.jsxs("div",{className:"p-4 space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl font-bold",children:a.name.split(" ").map(s=>s[0]).join("")}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white ${a.status==="available"?"bg-green-500":a.status==="busy"?"bg-blue-500":a.status==="break"?"bg-yellow-500":"bg-red-500"}`})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["ID: ",a.employeeId]}),e.jsx("span",{children:"•"}),e.jsx(c,{variant:"outline",children:a.machineType}),e.jsx("span",{children:"•"}),e.jsx(c,{variant:a.skillLevel==="expert"?"success":a.skillLevel==="intermediate"?"warning":"info",children:a.skillLevel}),e.jsx("span",{children:"•"}),e.jsx("div",{className:`px-2 py-1 rounded text-xs ${E(a.status)}`,children:a.status.toUpperCase()})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(o,{variant:"primary",onClick:()=>g("assign-work"),children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"Assign Work"]}),e.jsxs(o,{variant:"outline",children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),"View Full History"]})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("div",{className:"flex space-x-8",children:[{id:"overview",label:"📊 Overview",icon:B},{id:"assignments",label:"📋 Current Work",icon:f},{id:"assign-work",label:"➕ Assign New Work",icon:N},{id:"performance",label:"🏆 Performance",icon:b}].map(s=>e.jsx("button",{onClick:()=>g(s.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${d===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.label},s.id))})}),d==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(l,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(_,{className:"h-5 w-5 mr-2"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Experience:"}),e.jsxs("span",{className:"font-medium",children:[a.experience," years"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Join Date:"}),e.jsx("span",{className:"font-medium",children:a.joinDate.toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Shift:"}),e.jsx("span",{className:"font-medium capitalize",children:a.shift})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Efficiency:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[a.efficiency,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Quality Score:"}),e.jsxs("span",{className:"font-medium text-blue-600",children:[a.qualityScore,"/10"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Workload:"}),e.jsxs("span",{className:"font-medium",children:[a.currentWorkload,"/",a.maxCapacity]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Capacity"}),e.jsxs("span",{children:[Math.round(a.currentWorkload/a.maxCapacity*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-full",style:{width:`${a.currentWorkload/a.maxCapacity*100}%`}})})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(L,{className:"h-5 w-5 mr-2"}),"Today's Performance"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.todayStats.completedOperations}),e.jsx("div",{className:"text-sm text-gray-600",children:"Operations"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.todayStats.totalPieces}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pieces"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",a.todayStats.earnings]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Earnings"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[a.todayStats.hoursWorked,"h"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Hours"})]})]}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Average Time per Piece"}),e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[a.todayStats.averageTimePerPiece," min"]})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(I,{className:"h-5 w-5 mr-2"}),"Skills & Specialties"]}),e.jsx("div",{className:"space-y-3",children:a.specialties.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"font-medium capitalize",children:s.replace("_"," ")}),e.jsx(c,{variant:"success",size:"sm",children:"Expert"})]},s))}),e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(y,{className:"h-5 w-5 text-yellow-500 mr-2"}),e.jsx("span",{className:"font-medium text-yellow-800",children:"Recommended For:"})]}),e.jsx("div",{className:"text-sm text-yellow-700",children:"High-priority overlock operations, especially shoulder joins and side seams"})]})]})]}),d==="assignments"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Current Assignments (",a.currentAssignments.length,")"]}),e.jsxs("div",{className:"space-y-4",children:[a.currentAssignments.map(s=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:s.operationName}),e.jsx("p",{className:"text-sm text-gray-600",children:s.operationNameNepali}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:s.bundleNumber})]}),e.jsx(c,{variant:s.status==="in_progress"?"info":s.status==="completed"?"success":"secondary",children:s.status.replace("_"," ")})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.progress}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["Assigned: ",s.assignedAt.toLocaleString()]}),e.jsxs("span",{children:["Est. Time: ",s.estimatedTime," min"]})]})]},s.id)),a.currentAssignments.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(f,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No current assignments"}),e.jsx(o,{variant:"primary",className:"mt-4",onClick:()=>g("assign-work"),children:"Assign New Work"})]})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Completed Work"}),e.jsx("div",{className:"space-y-3",children:a.recentWork.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.operationName}),e.jsx("p",{className:"text-sm text-gray-600",children:s.bundleNumber})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-green-600",children:["$",s.earnings]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s.piecesCompleted," pieces"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Quality: ",s.qualityScore,"/10"]})]})]},r))})]})]}),d==="assign-work"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Available Work for ",a.name]}),n.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[n.length," selected"]}),e.jsx(o,{variant:"primary",onClick:A,children:"Assign Selected Work"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(s=>e.jsxs(l,{className:`p-4 cursor-pointer transition-all ${n.includes(s.id)?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-lg hover:ring-1 hover:ring-gray-300"}`,onClick:()=>P(s.id),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(q,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{variant:C(s.priority),children:s.priority}),e.jsxs("div",{className:`px-2 py-1 rounded text-xs font-medium ${W(s.compatibility)}`,children:[s.compatibility,"% match"]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:s.operationName}),e.jsx("p",{className:"text-sm text-gray-600",children:s.operationNameNepali}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:s.bundleNumber})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Machine:"}),e.jsx(c,{variant:"outline",size:"sm",children:s.machineType})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Pieces:"}),e.jsx("span",{className:"font-medium",children:s.totalPieces})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Rate:"}),e.jsxs("span",{className:"font-medium",children:["$",s.pricePerPiece,"/pc"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Est. Time:"}),e.jsxs("span",{className:"font-medium",children:[Math.round(s.timePerPiece*s.totalPieces)," min"]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Est. Earnings:"}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",s.estimatedEarnings]})]})}),n.includes(s.id)&&e.jsxs("div",{className:"mt-3 flex items-center justify-center text-blue-600",children:[e.jsx(D,{className:"h-5 w-5 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Selected"})]})]},s.id))}),h.length===0&&e.jsxs(l,{className:"p-8 text-center",children:[e.jsx(M,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No compatible work available for this operator"})]})]}),d==="performance"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Weekly Performance"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",a.weeklyStats.totalEarnings]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Earnings"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.weeklyStats.totalPieces}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Pieces"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[a.weeklyStats.averageEfficiency,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Efficiency"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:a.weeklyStats.completedBundles}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed Bundles"})]})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Performance Insights"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(b,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsx("span",{className:"font-medium text-green-800",children:"Top Performer"})]}),e.jsx("p",{className:"text-sm text-green-700",children:"Consistently exceeds efficiency targets and maintains high quality standards."})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(y,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsx("span",{className:"font-medium text-blue-800",children:"Specialty Expert"})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"Best suited for complex shoulder join and side seam operations."})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(T,{className:"h-5 w-5 text-purple-600 mr-2"}),e.jsx("span",{className:"font-medium text-purple-800",children:"High Capacity"})]}),e.jsxs("p",{className:"text-sm text-purple-700",children:["Can handle up to ",a.maxCapacity," concurrent operations efficiently."]})]})]})]})]})]}):e.jsx("div",{className:"text-center p-8",children:e.jsx("p",{className:"text-gray-600",children:"Operator not found"})})};export{ie as OperatorProfileAssignment,ie as default};
