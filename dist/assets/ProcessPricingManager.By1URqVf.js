import{j as e}from"./query-vendor.DpsghfSz.js";import{r as c}from"./react-vendor.CfKEcsXX.js";import{C as d,c as p,d as u,e as g,b as o,B as r,a as f}from"./index.B3OoR7j1.js";import{L as t}from"./label.0cKEA8rL.js";import{S as v,a as N,b as y,c as b,d as i}from"./select.BS0-IYhb.js";import{T as D,a as E,b as R,c as T}from"./tabs.Bt9VKIUG.js";import{t as S}from"./index.LBReXyrD.js";import{I,f as L,k as _,l as G,C as z,c as O,S as C,T as V,m as H}from"./ui-vendor.D5U9TC-3.js";import"./firebase-vendor.D8xw0AXf.js";import"./utils-vendor.B0NEtgzl.js";import"./utils.k9sMftog.js";const $=[{machineType:"single_needle",machineTypeNepali:"सिंगल निडल",baseRate:1.5,efficiency:85,operatorSkillRequired:"intermediate",maintenanceCost:.1,notes:"General purpose single needle for collars, plackets, hems"},{machineType:"overlock",machineTypeNepali:"ओभरलक",baseRate:2,efficiency:90,operatorSkillRequired:"basic",maintenanceCost:.15,notes:"Overlock for seams, joins, and edge finishing"},{machineType:"flatlock",machineTypeNepali:"फ्ल्यालक",baseRate:1.8,efficiency:80,operatorSkillRequired:"intermediate",maintenanceCost:.12,notes:"Flatlock for decorative seams and hems"},{machineType:"buttonhole",machineTypeNepali:"बटन होल",baseRate:3.5,efficiency:70,operatorSkillRequired:"expert",maintenanceCost:.25,notes:"Specialized buttonhole machine"},{machineType:"button_attach",machineTypeNepali:"बटन एट्याच",baseRate:2.5,efficiency:75,operatorSkillRequired:"advanced",maintenanceCost:.2,notes:"Button attachment machine"},{machineType:"cutting",machineTypeNepali:"काटने",baseRate:1,efficiency:95,operatorSkillRequired:"advanced",maintenanceCost:.05,notes:"Cutting tools and equipment"},{machineType:"finishing",machineTypeNepali:"फिनिशिङ",baseRate:1.2,efficiency:85,operatorSkillRequired:"basic",maintenanceCost:.08,notes:"Finishing operations - thread trimming, cleaning"},{machineType:"pressing",machineTypeNepali:"प्रेसिङ",baseRate:1.3,efficiency:90,operatorSkillRequired:"basic",maintenanceCost:.1,notes:"Pressing and ironing operations"}],J=[{id:"1",garmentType:"tshirt",operation:"Shoulder Join",operationNepali:"काँध जोड्ने",machineType:"overlock",complexity:"basic",basePrice:1,pricePerPiece:1,estimatedMinutes:2,skillMultiplier:1,qualityRequirement:"Clean seam, no puckering",notes:"Basic overlock operation",isActive:!0,lastUpdated:new Date,updatedBy:"admin"},{id:"2",garmentType:"tshirt",operation:"Sleeve Attach",operationNepali:"बाही जोड्ने",machineType:"overlock",complexity:"intermediate",basePrice:2,pricePerPiece:2,estimatedMinutes:3,skillMultiplier:1.2,qualityRequirement:"Smooth armhole, even seam allowance",notes:"Requires precision in curve handling",isActive:!0,lastUpdated:new Date,updatedBy:"admin"},{id:"3",garmentType:"polo",operation:"Collar Making",operationNepali:"कलर बनाउने",machineType:"single_needle",complexity:"advanced",basePrice:2.5,pricePerPiece:2.5,estimatedMinutes:4,skillMultiplier:1.5,qualityRequirement:"Perfect collar shape, consistent topstitching",notes:"Critical for garment appearance",isActive:!0,lastUpdated:new Date,updatedBy:"admin"},{id:"4",garmentType:"polo",operation:"Placket Making",operationNepali:"प्लेकेट बनाउने",machineType:"single_needle",complexity:"advanced",basePrice:2,pricePerPiece:2,estimatedMinutes:3.5,skillMultiplier:1.4,qualityRequirement:"Straight placket, even buttonhole spacing",notes:"Requires careful measurement and alignment",isActive:!0,lastUpdated:new Date,updatedBy:"admin"}],Q={basic:"bg-green-100 text-green-800",intermediate:"bg-blue-100 text-blue-800",advanced:"bg-orange-100 text-orange-800",expert:"bg-red-100 text-red-800"},xe=()=>{const[l,m]=c.useState(J),[j,X]=c.useState($),[x,k]=c.useState("all"),[h,P]=c.useState("all"),[Y,w]=c.useState(null),[K,M]=c.useState(null),[W,q]=c.useState(!1),[Z,ee]=c.useState(!1),A=l.filter(s=>!(x!=="all"&&s.garmentType!==x||h!=="all"&&s.machineType!==h)),B=s=>{m(a=>a.filter(n=>n.id!==s)),S.success("Pricing rule deleted")},F=s=>{m(a=>a.map(n=>n.id===s?{...n,isActive:!n.isActive}:n))},U=s=>{const a={...s,id:Date.now().toString(),operation:`${s.operation} (Copy)`,operationNepali:`${s.operationNepali} (प्रतिलिपि)`,lastUpdated:new Date};m(n=>[...n,a]),S.success("Pricing rule duplicated")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(d,{children:e.jsxs(p,{children:[e.jsxs(u,{className:"flex items-center",children:[e.jsx(I,{className:"h-5 w-5 mr-2"}),"Process Pricing Management"]}),e.jsx(g,{children:"Configure step-by-step pricing for different operations, machines, and garment types"})]})}),e.jsxs(D,{defaultValue:"pricing-rules",className:"space-y-4",children:[e.jsxs(E,{className:"grid w-full grid-cols-2",children:[e.jsx(R,{value:"pricing-rules",children:"Pricing Rules"}),e.jsx(R,{value:"machine-rates",children:"Machine Rates"})]}),e.jsxs(T,{value:"pricing-rules",className:"space-y-4",children:[e.jsx(d,{children:e.jsx(o,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(t,{children:"Garment:"}),e.jsxs(v,{value:x,onValueChange:k,children:[e.jsx(N,{className:"w-40",children:e.jsx(y,{})}),e.jsxs(b,{children:[e.jsx(i,{value:"all",children:"All Types"}),e.jsx(i,{value:"tshirt",children:"T-Shirt"}),e.jsx(i,{value:"polo",children:"Polo"}),e.jsx(i,{value:"shirt",children:"Shirt"}),e.jsx(i,{value:"pants",children:"Pants"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(t,{children:"Machine:"}),e.jsxs(v,{value:h,onValueChange:P,children:[e.jsx(N,{className:"w-40",children:e.jsx(y,{})}),e.jsxs(b,{children:[e.jsx(i,{value:"all",children:"All Machines"}),e.jsx(i,{value:"single_needle",children:"Single Needle"}),e.jsx(i,{value:"overlock",children:"Overlock"}),e.jsx(i,{value:"flatlock",children:"Flatlock"}),e.jsx(i,{value:"buttonhole",children:"Buttonhole"})]})]})]})]}),e.jsxs(r,{onClick:()=>q(!0),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Add New Rule"]})]})})}),e.jsx("div",{className:"space-y-4",children:A.map(s=>e.jsx(d,{className:s.isActive?"":"opacity-50",children:e.jsxs(o,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-semibold",children:s.operation}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",s.operationNepali,")"]}),e.jsx(f,{className:Q[s.complexity],children:s.complexity}),!s.isActive&&e.jsx(f,{variant:"secondary",children:"Inactive"})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Garment: ",s.garmentType]}),e.jsxs("span",{children:["Machine: ",s.machineType]}),e.jsxs("span",{children:["Time: ",s.estimatedMinutes," min"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["Rs. ",s.pricePerPiece.toFixed(2)]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"per piece"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-xs text-muted-foreground",children:"Quality Requirement"}),e.jsx("p",{className:"text-sm",children:s.qualityRequirement})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-xs text-muted-foreground",children:"Notes"}),e.jsx("p",{className:"text-sm",children:s.notes})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[e.jsx(_,{className:"h-3 w-3"}),e.jsxs("span",{children:["Updated ",s.lastUpdated.toLocaleDateString()," by ",s.updatedBy]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>F(s.id),children:s.isActive?e.jsx(G,{className:"h-4 w-4"}):e.jsx(z,{className:"h-4 w-4"})}),e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>U(s),children:e.jsx(O,{className:"h-4 w-4"})}),e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>w(s),children:e.jsx(C,{className:"h-4 w-4"})}),e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>B(s.id),children:e.jsx(V,{className:"h-4 w-4"})})]})]})]})},s.id))})]}),e.jsx(T,{value:"machine-rates",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(s=>e.jsxs(d,{children:[e.jsx(p,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(u,{className:"text-lg",children:s.machineTypeNepali}),e.jsx(g,{children:s.machineType})]}),e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>M(s),children:e.jsx(C,{className:"h-4 w-4"})})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-xs text-muted-foreground",children:"Base Rate"}),e.jsxs("div",{className:"font-medium",children:["Rs. ",s.baseRate.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-xs text-muted-foreground",children:"Efficiency"}),e.jsxs("div",{className:"font-medium",children:[s.efficiency,"%"]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-xs text-muted-foreground",children:"Skill Level"}),e.jsx("div",{className:"font-medium",children:s.operatorSkillRequired})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-xs text-muted-foreground",children:"Maintenance"}),e.jsxs("div",{className:"font-medium",children:["Rs. ",s.maintenanceCost.toFixed(2)]})]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-xs text-muted-foreground",children:"Notes"}),e.jsx("p",{className:"text-sm",children:s.notes})]})]})]},s.machineType))})})]}),e.jsxs(d,{children:[e.jsx(p,{children:e.jsxs(u,{className:"flex items-center",children:[e.jsx(H,{className:"h-5 w-5 mr-2"}),"Pricing Summary"]})}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:l.filter(s=>s.isActive).length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Rules"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["Rs. ",(l.reduce((s,a)=>s+a.pricePerPiece,0)/l.length).toFixed(2)]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg. Price/Piece"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:Math.round(l.reduce((s,a)=>s+a.estimatedMinutes,0)/l.length)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg. Minutes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:j.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Machine Types"})]})]})})]})]})};export{xe as ProcessPricingManager,xe as default};
