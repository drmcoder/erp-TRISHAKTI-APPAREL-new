import{u as i,a as l,b as c}from"./query-vendor.DpsghfSz.js";const a={getWorkBundles:async e=>({success:!0,data:{items:[],total:0,page:1,limit:10}}),getWorkBundleById:async e=>({success:!0,data:{id:e,name:`Bundle ${e}`,status:"active",workItems:[]}}),createWorkBundle:async e=>({success:!0,data:{id:"new-bundle-id",...e}}),update:async(e,t,n)=>({success:!0,data:{id:e,...t}}),getWorkItemsByBundle:async e=>({success:!0,data:[]}),createWorkItem:async e=>({success:!0,data:{id:"new-work-item-id",...e}}),getAssignments:async e=>({success:!0,data:{items:[],total:0,page:1,limit:10}}),assignWork:async e=>({success:!0,data:{id:"new-assignment-id",...e}}),completeAssignment:async e=>({success:!0,data:{id:e.assignmentId,status:"completed",...e}}),createAssignmentRequest:async(e,t,n)=>({success:!0,data:{id:"new-request-id",workItemId:e,operatorId:t,reason:n,status:"pending"}}),getAssignmentStatistics:async e=>({success:!0,data:{totalAssignments:0,activeAssignments:0,averageEfficiency:0,onTimeCompletion:0}})},s={all:["work-assignments"],bundles:()=>[...s.all,"bundles"],bundlesList:e=>[...s.bundles(),"list",{filters:e}],bundleDetail:e=>[...s.bundles(),"detail",e],workItems:()=>[...s.all,"work-items"],workItemsByBundle:e=>[...s.workItems(),"bundle",e],workItemDetail:e=>[...s.workItems(),"detail",e],assignments:()=>[...s.all,"assignments"],assignmentsList:e=>[...s.assignments(),"list",{filters:e}],assignmentDetail:e=>[...s.assignments(),"detail",e],operatorAssignments:e=>[...s.assignments(),"operator",e],statistics:()=>[...s.all,"statistics"],assignmentStats:e=>[...s.statistics(),"assignments",{filters:e}],requests:()=>[...s.all,"requests"],pendingRequests:()=>[...s.requests(),"pending"],operatorRequests:e=>[...s.requests(),"operator",e]};function g(e,t){return i({queryKey:s.bundlesList(e),queryFn:()=>a.getWorkBundles(e),staleTime:300*1e3,gcTime:600*1e3,...t})}function d(e,t){return i({queryKey:s.assignmentsList(e),queryFn:()=>a.getAssignments(e),staleTime:30*1e3,refetchInterval:60*1e3,...t})}function y(e,t){return i({queryKey:s.operatorAssignments(e),queryFn:()=>a.getAssignments({operatorId:e}),enabled:!!e,staleTime:30*1e3,refetchInterval:60*1e3,...t})}function q(){const e=l();return c({mutationFn:async t=>{const n=await Promise.allSettled(t.map(u=>a.assignWork(u))),r=n.filter(u=>u.status==="fulfilled"&&u.value.success).length,m=n.length-r;return{success:r>0,data:{successful:r,failed:m,total:n.length},results:n}},onSuccess:()=>{e.invalidateQueries({queryKey:s.assignments()}),e.invalidateQueries({queryKey:s.workItems()}),e.invalidateQueries({queryKey:s.statistics()})}})}function k(){const e=l();return c({mutationFn:({workItemId:t,operatorId:n,reason:r})=>a.createAssignmentRequest(t,n,r),onSuccess:(t,n)=>{t.success&&(e.invalidateQueries({queryKey:s.requests()}),e.invalidateQueries({queryKey:s.operatorRequests(n.operatorId)}))}})}function A(e,t){return i({queryKey:s.assignmentStats(e),queryFn:()=>a.getAssignmentStatistics(e),staleTime:120*1e3,refetchInterval:300*1e3,...t})}function f(e,t){return i({queryKey:["available-work-items",e],queryFn:()=>a.getAvailableWorkItems(e),enabled:!!e,staleTime:60*1e3,...t})}function b(e,t){return i({queryKey:["assignment-recommendations",e],queryFn:()=>a.getAssignmentRecommendations(e),enabled:!!e,staleTime:300*1e3,...t})}function w(){return i({queryKey:["operators"],queryFn:()=>a.getAllOperators()})}export{b as a,y as b,k as c,g as d,w as e,q as f,d as g,A as h,f as u};
