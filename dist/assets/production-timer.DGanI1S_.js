import{j as t,a as Z,u as ee,b as A}from"./query-vendor.DpsghfSz.js";import{r as m}from"./react-vendor.CfKEcsXX.js";import{C,c as Q,d as H,a as E,b as D,B as v}from"./index.CLAiwwTT.js";import{P as B}from"./progress.gceU5Vz_.js";import{c as W}from"./utils.k9sMftog.js";import{k as te,o as z,p as se,O as re,Q as M,m as ie,d as ae,V as ne,H as oe,q as ce}from"./ui-vendor.EZF4ucWh.js";import"./firebase-vendor.D8xw0AXf.js";import"./utils-vendor.B0NEtgzl.js";import"./index.CgqrbJCd.js";const O=m.forwardRef(({className:k,variant:s="default",...e},r)=>{const a={default:"border-secondary-200 text-secondary-900 bg-white",destructive:"border-red-200 text-red-900 bg-red-50",warning:"border-yellow-200 text-yellow-900 bg-yellow-50",info:"border-blue-200 text-blue-900 bg-blue-50"};return t.jsx("div",{ref:r,role:"alert",className:W("relative w-full rounded-lg border p-4",a[s],k),...e})});O.displayName="Alert";const $=m.forwardRef(({className:k,...s},e)=>t.jsx("div",{ref:e,className:W("text-sm [&_p]:leading-relaxed",k),...s}));$.displayName="AlertDescription";class le{rules=[];constructor(){this.initializeDefaultRules()}evaluateProduction(s){const e=this.calculateProductionMetrics(s),r=this.evaluateBreakCompliance(s),a=this.evaluateRules(s),d=this.generateRecommendations(s,e);return{metrics:e,actions:a,compliance:r,recommendations:d}}calculateProductionMetrics(s){const{operator:e,assignment:r,currentSession:a,breaks:d}=s,o=this.calculateEfficiency(s),c=this.analyzeEfficiencyTrend(e),n=this.identifyEfficiencyFactors(s),l=this.calculateQualityMetrics(s),u=this.calculateProductivityMetrics(s),g=this.analyzeBreaks(s);return{efficiency:{current:o,target:this.getEfficiencyTarget(e),trend:c,factors:n},quality:{current:l.score,target:.95,issues:l.issues,severity:l.severity},productivity:u,breaks:g}}calculateEfficiency(s){const{assignment:e,currentSession:r}=s;if(!r.piecesCompleted||r.totalDuration===0)return 0;const a=e.targetPieces/(e.estimatedDuration||1),o=r.piecesCompleted/(r.totalDuration/60)/a,n=this.getEfficiencyAdjustments(s).reduce((l,u)=>l*(1+u.impact),o);return Math.max(0,Math.min(1.5,n))}identifyEfficiencyFactors(s){const e=[],{operator:r,currentSession:a,breaks:d}=s,o=r.primaryMachine===s.assignment.machineType;e.push({factor:"Machine Familiarity",impact:o?.1:-.05,description:o?"Working on primary machine":"Working on secondary machine"});const c=d.reduce((g,h)=>g+(h.duration||0),0),n=a.totalDuration-c,l=c/n;l>.2?e.push({factor:"Excessive Breaks",impact:-.15,description:"Too many or too long breaks"}):l<.05&&e.push({factor:"Insufficient Breaks",impact:-.1,description:"May be overworked, needs proper breaks"});const u=new Date().getHours();return u>=14&&u<=16&&e.push({factor:"Post-lunch Period",impact:-.08,description:"Natural productivity decline after lunch"}),s.qualityIssues.length>0&&e.push({factor:"Quality Issues",impact:-.2,description:"Quality problems affecting productivity"}),e}getEfficiencyAdjustments(s){return this.identifyEfficiencyFactors(s)}analyzeEfficiencyTrend(s){const e=s.efficiency,r=.8;return e>r+.05?"improving":e<r-.05?"declining":"stable"}calculateQualityMetrics(s){const{qualityIssues:e,currentSession:r}=s,a=r.piecesCompleted,d=e.reduce((n,l)=>n+l.affectedPieces,0),o=a>0?1-d/a:1;let c="good";return o<.8?c="critical":o<.9&&(c="warning"),{score:o,issues:e.length,severity:c}}calculateProductivityMetrics(s){const{assignment:e,currentSession:r}=s,a=r.totalDuration/3600,d=a>0?r.piecesCompleted/a:0,o=e.targetPieces/((e.estimatedDuration||60)/60),c=(d-o)/o*100;return{piecesPerHour:d,targetPiecesPerHour:o,variance:c}}analyzeBreaks(s){const{breaks:e,shift:r}=s,a=e.length,d=e.reduce((h,R)=>h+(R.duration||0),0),o=(r.end.getTime()-r.start.getTime())/(1e3*60*60),c=this.getRequiredBreaks(o),n=this.checkBreakComplianceInternal(e,c),l=e[e.length-1],g=(l?(Date.now()-(l.endTime?.getTime()||l.startTime.getTime()))/(1e3*60):0)>120;return{total:a,duration:d,compliance:n,overdue:g}}checkBreakCompliance(s){try{const{workDuration:e,breaks:r}=s,a=e/(1e3*60*60),d=this.getRequiredBreaks(a);return this.checkBreakComplianceInternal(r||[],d||[])}catch(e){return console.error("Error in checkBreakCompliance:",e),!1}}evaluateBreakCompliance(s){const{breaks:e,shift:r}=s,a=(r.end.getTime()-r.start.getTime())/(1e3*60*60),d=this.getRequiredBreaks(a),o=e,c=d.filter(u=>!o.some(g=>g.breakType===u.breakType)),n=o.filter(u=>!d.some(g=>g.breakType===u.breakType)),l=Math.max(0,1-c.length*.2-n.length*.1);return{required:d,taken:o,missing:c,excess:n,compliance:l}}getRequiredBreaks(s){const e=[];return s>=4&&e.push({breakType:"tea",duration:15,isPaid:!0,reason:"Morning tea break (required)"}),s>=6&&e.push({breakType:"lunch",duration:60,isPaid:!1,reason:"Lunch break (required)"}),s>=8&&e.push({breakType:"tea",duration:15,isPaid:!0,reason:"Afternoon tea break (required)"}),e}checkBreakComplianceInternal(s,e){return!e||!Array.isArray(e)?(console.warn("checkBreakComplianceInternal: required breaks array is undefined or invalid"),!0):!s||!Array.isArray(s)?(console.warn("checkBreakComplianceInternal: actual breaks array is undefined or invalid"),!1):e.every(r=>s.some(a=>a.breakType===r.breakType))}evaluateRules(s){const e=[];return this.rules.filter(r=>r.isActive).sort((r,a)=>a.priority-r.priority).forEach(r=>{try{if(r.condition(s)){const a=r.action(s);e.push(a)}}catch(a){console.error(`Rule evaluation failed for ${r.name}:`,a)}}),e}generateRecommendations(s,e){const r=[];return e.efficiency.current<e.efficiency.target&&(r.push("Consider reviewing work technique to improve efficiency"),e.efficiency.factors.some(a=>a.factor==="Machine Familiarity"&&a.impact<0)&&r.push("Request additional training on this machine type")),e.quality.severity==="warning"?r.push("Focus on quality control - slow down if necessary"):e.quality.severity==="critical"&&r.push("Stop work and consult supervisor about quality issues"),e.breaks.overdue?r.push("Take a break - you've been working for over 2 hours"):e.breaks.compliance||r.push("Ensure you take all required breaks for optimal performance"),e.productivity.variance<-20?r.push("Consider breaking down the work into smaller tasks"):e.productivity.variance>20&&r.push("Great work! Consider helping other team members"),r}initializeDefaultRules(){this.rules=[{id:"low_efficiency_alert",name:"Low Efficiency Alert",type:"efficiency",condition:s=>s.currentSession.efficiency<.6,action:s=>({type:"efficiency_warning",message:`Efficiency is ${Math.round(s.currentSession.efficiency*100)}% - below target`,severity:"warning",autoExecute:!0}),priority:80,isActive:!0},{id:"mandatory_break_overdue",name:"Mandatory Break Overdue",type:"break",condition:s=>{const e=s.breaks[s.breaks.length-1];return(e?(Date.now()-(e.endTime?.getTime()||e.startTime.getTime()))/(1e3*60):s.currentSession.totalDuration/60)>120},action:()=>({type:"auto_break",message:"Mandatory break time - you've been working for over 2 hours",severity:"warning",autoExecute:!1}),priority:90,isActive:!0},{id:"quality_issues_critical",name:"Critical Quality Issues",type:"quality",condition:s=>s.qualityIssues.some(e=>e.severity==="critical"),action:()=>({type:"supervisor_notification",message:"Critical quality issues detected - supervisor notification sent",severity:"critical",autoExecute:!0}),priority:100,isActive:!0},{id:"overtime_warning",name:"Overtime Warning",type:"overtime",condition:s=>{const e=(s.shift.end.getTime()-s.shift.start.getTime())/36e5;return s.currentSession.totalDuration/3600>e*.9},action:s=>({type:"alert",message:"Approaching end of shift - prepare to complete current work",severity:"info",autoExecute:!0}),priority:70,isActive:!0}]}getEfficiencyTarget(s){return{beginner:.7,intermediate:.8,advanced:.85,expert:.9}[s.skillLevel]||.75}calculateEarnings(s,e,r,a){const d=s.workItem?.ratePerPiece||0,o=e*d,c=r>.9?o*.05:0,n=a>.95?o*.03:0,l=a<.8?o*.1:0,u=o+c+n-l;return{baseEarnings:o,efficiencyBonus:c,qualityBonus:n,penalty:l,totalEarnings:Math.max(0,u)}}validateWorkSession(s){const e=[],r=[];return s.assignmentId||e.push("Assignment ID is required"),s.operatorId||e.push("Operator ID is required"),s.piecesCompleted&&s.piecesCompleted<0&&e.push("Pieces completed cannot be negative"),s.efficiency&&(s.efficiency<0||s.efficiency>2)&&r.push("Efficiency seems unusually high or low"),s.totalDuration&&s.totalDuration>720*60&&r.push("Work session exceeds 12 hours"),{isValid:e.length===0,errors:e,warnings:r}}addRule(s){this.rules.push(s),this.rules.sort((e,r)=>r.priority-e.priority)}removeRule(s){this.rules=this.rules.filter(e=>e.id!==s)}getActiveRules(){return this.rules.filter(s=>s.isActive)}}const ue=new le;var de={};const me={api:{baseUrl:"https://api.tsa-erp.com/v1",timeout:45e3,retryAttempts:3,retryDelay:2e3,batchSize:50},realtime:{statusUpdateInterval:15e3,assignmentSyncInterval:3e4,queueProcessingInterval:1e4,connectionRetryDelay:5e3,maxReconnectAttempts:5,heartbeatInterval:3e4},ai:{confidenceThreshold:50,autoAssignThreshold:80,maxRecommendations:5,learningDataRetention:100,retrainInterval:1440*60*1e3,weights:{skillMatch:.25,efficiency:.2,quality:.2,availability:.15,workload:.1,experience:.1},thresholds:{efficiency:{excellent:.9,good:.8,acceptable:.7,poor:.6},quality:{excellent:.95,good:.85,acceptable:.75,poor:.65}}},queue:{maxConcurrentProcessing:5,processingIntervalMs:1e4,maxRetryAttempts:3,retryBackoffMultiplier:2,requestExpirationHours:24,priorityWeights:{urgent:100,high:75,medium:50,low:25},autoProcessing:{enabled:!0,minConfidenceScore:75,maxQueueSize:100,processingHours:{start:6,end:22}}},production:{session:{autoSaveInterval:3e4,idleDetectionTimeout:3e5,maxSessionDuration:720*60*1e3,breakReminderInterval:7200*1e3},breaks:{required:{tea:{duration:15,isPaid:!0,requiredAfterHours:4},lunch:{duration:60,isPaid:!1,requiredAfterHours:6},afternoon:{duration:15,isPaid:!0,requiredAfterHours:8}},compliance:{maxContinuousWork:120,minBreakInterval:240,overtimeBreakRequired:!0}},performance:{efficiencyUpdateInterval:6e4,qualityCheckInterval:3e5,alerts:{lowEfficiency:.6,criticalQuality:.8,excessiveBreaks:.25,overtimeWarning:.9}},earnings:{efficiencyBonus:{threshold:.9,rate:.05},qualityBonus:{threshold:.95,rate:.03},qualityPenalty:{threshold:.8,rate:.1},overtime:{regularMultiplier:1,overtimeMultiplier:1.5,holidayMultiplier:2}}},businessRules:{assignment:{skillRequirements:{cutting:{minimum:"intermediate",preferred:"advanced"},sewing:{minimum:"beginner",preferred:"intermediate"},embroidery:{minimum:"advanced",preferred:"expert"},finishing:{minimum:"beginner",preferred:"intermediate"}},workload:{maxConcurrentAssignments:{beginner:2,intermediate:4,advanced:6,expert:8},qualityBasedLimits:{excellent:1.2,good:1,poor:.8}},machineRules:{primaryMachineBonus:.1,crossTrainingRequired:["cutting","sewing"],exclusiveOperations:["embroidery"]}},quality:{inspectionRules:{randomInspectionRate:.1,newOperatorInspectionRate:.3,qualityIssueInspectionRate:.5},defectLimits:{minor:{maxPercentage:.05,action:"warning"},major:{maxPercentage:.02,action:"retraining"},critical:{maxPercentage:.001,action:"immediate_stop"}}},timeRules:{shifts:{morning:{start:"06:00",end:"14:00"},afternoon:{start:"14:00",end:"22:00"},night:{start:"22:00",end:"06:00"}},overtime:{dailyLimit:4,weeklyLimit:20,approvalRequired:2},leave:{advanceNoticeRequired:24,casualLeaveLimit:12,sickLeaveLimit:15}}},ui:{dashboard:{refreshInterval:3e4,showRealTimeMetrics:!0,autoHideCompletedAfterHours:8,maxVisibleAssignments:10},kanban:{columns:["pending","assigned","started","paused","completed"],enableDragDrop:!0,autoRefresh:!0,showAssignmentDetails:!0,maxCardsPerColumn:50},assignment:{showAIRecommendations:!0,highlightCompatibilityIssues:!0,showPerformancePredictions:!0,enableBulkOperations:!0},workTracking:{showRealTimeTimer:!0,enableBreakReminders:!0,showEfficiencyAlerts:!0,autoSaveProgress:!0,showEarningsEstimate:!0}},security:{permissions:{operator:["view_own_assignments","start_work_session","update_work_progress","request_assignment","take_breaks"],supervisor:["view_all_assignments","assign_work","approve_requests","modify_assignments","view_team_performance","manage_breaks"],manager:["bulk_assign_work","override_business_rules","access_analytics","export_reports","configure_system"],admin:["all_permissions","manage_users","system_configuration","data_management"]},dataAccess:{operatorData:{own:["read","write"],team:["read"],all:[]},performanceData:{own:["read"],direct_reports:["read"],all:["manager","admin"]},financialData:{own:["read"],all:["manager","admin"]}},audit:{logAssignments:!0,logStatusChanges:!0,logPerformanceData:!0,logConfigChanges:!0,retentionDays:365}},performance:{cache:{assignments:{staleTime:30*1e3,gcTime:300*1e3},recommendations:{staleTime:120*1e3,gcTime:600*1e3},statistics:{staleTime:60*1e3,gcTime:900*1e3}},optimization:{enableVirtualization:!0,virtualizationThreshold:100,lazyLoadImages:!0,debounceSearchMs:300,throttleScrollMs:100},memory:{maxCachedAssignments:1e3,maxHistoryEntries:500,gcThreshold:.8}},integrations:{erp:{enabled:!0,syncInterval:900*1e3,endpoints:{orders:"/api/orders",materials:"/api/materials",schedules:"/api/schedules"}},notifications:{email:{enabled:!0,templates:{assignmentCreated:"assignment-created",workCompleted:"work-completed",qualityIssue:"quality-issue"}},push:{enabled:!0,categories:["urgent","assignment","break","completion"]},sms:{enabled:!1,urgentOnly:!0}},analytics:{enabled:!0,trackUserActions:!0,trackPerformanceMetrics:!0,exportToDataWarehouse:!0}},development:{enableDebugLogs:!1,showPerformanceMetrics:!1,mockDataEnabled:de.REACT_APP_USE_MOCK_DATA==="true",testing:{enableTestData:!1,resetDataAfterTests:!0,mockAIRecommendations:!0},featureFlags:{aiRecommendations:!0,realTimeTracking:!0,advancedAnalytics:!0,bulkOperations:!0,qualityControlIntegration:!0}}},fe=()=>me,Ce=({workItemId:k,operatorId:s,workItem:e,onSessionUpdate:r,onBreakRequired:a,onProductionAlert:d})=>{Z();const o=fe(),c=m.useRef(null),[n,l]=m.useState({isRunning:!1,startTime:null,pausedTime:0,currentDuration:0,sessionId:null}),[u,g]=m.useState(null),[h,R]=m.useState([]),[y,U]=m.useState(null),[b,pe]=m.useState(0),[w,ge]=m.useState(e.targetQuantity||0),[V,j]=m.useState([]),{data:he}=ee({queryKey:["workSession",k,s],queryFn:async()=>null,refetchInterval:5e3}),_=A({mutationFn:async()=>(e.targetQuantity,"session_"+Date.now()),onSuccess:i=>{l(f=>({...f,isRunning:!0,startTime:new Date,sessionId:i})),S()}}),I=A({mutationFn:async i=>{if(!n.sessionId)throw new Error("No active session");return{paused:i}},onSuccess:i=>{i.paused?q():P()}}),G=A({mutationFn:async()=>{if(!n.sessionId)throw new Error("No active session");return{sessionId:n.sessionId,endTime:new Date,totalDuration:n.currentDuration+n.pausedTime,completedQuantity:b,breaks:h,metrics:y}},onSuccess:()=>{K(),j(i=>[...i,{id:Date.now().toString(),type:"success",message:"Work session completed successfully!"}])}}),S=m.useCallback(()=>{c.current&&clearInterval(c.current),c.current=setInterval(()=>{l(i=>{if(!i.startTime||!i.isRunning)return i;const p=Date.now()-i.startTime.getTime()+i.pausedTime;return{...i,currentDuration:p}})},1e3)},[]),q=m.useCallback(()=>{c.current&&(clearInterval(c.current),c.current=null),l(i=>({...i,isRunning:!1,pausedTime:i.currentDuration}))},[]),P=m.useCallback(()=>{l(i=>({...i,isRunning:!0,startTime:new Date})),S()},[S]),K=m.useCallback(()=>{c.current&&(clearInterval(c.current),c.current=null),l({isRunning:!1,startTime:null,pausedTime:0,currentDuration:0,sessionId:null})},[]),L=m.useCallback(i=>{const f=o.production.breaks.required[i];f&&(n.isRunning&&q(),g({type:i,startTime:new Date,duration:f.duration*60*1e3,isActive:!0}),j(x=>[...x,{id:Date.now().toString(),type:"info",message:`${i} break started - ${f.duration} minutes`}]))},[n.isRunning,q,o]),J=m.useCallback(()=>{if(!u)return;const i=Date.now()-u.startTime.getTime(),f={id:Date.now().toString(),type:u.type,startTime:u.startTime,endTime:new Date,duration:i,isPaid:o.production.breaks.required[u.type]?.isPaid||!1};R(x=>[...x,f]),g(null),P(),j(x=>[...x,{id:Date.now().toString(),type:"success",message:`${u.type} break completed`}])},[u,P,o]);m.useEffect(()=>{if(!n.isRunning||n.currentDuration===0)return;const i={workItemId:k,operatorId:s,currentSession:{startTime:n.startTime,duration:n.currentDuration,completedQuantity:b,targetQuantity:w,breaks:h},workItem:e,completedPieces:b,targetPieces:w},f=ue.evaluateProduction(i);U(f.metrics),f.actions.forEach(p=>{p.type==="alert"&&p.priority==="high"&&(j(Y=>[...Y,{id:Date.now().toString()+p.type,type:"warning",message:p.message}]),d?.({type:p.actionType,message:p.message}))});const x=n.currentDuration/(1e3*60*60);x>=2&&!h.some(p=>p.type==="tea")?a?.("tea"):x>=6&&!h.some(p=>p.type==="lunch")&&a?.("lunch")},[n.currentDuration,b,w,h,k,s,e,d,a]);const F=i=>{const f=Math.floor(i/1e3%60),x=Math.floor(i/(1e3*60)%60);return`${Math.floor(i/(1e3*60*60)).toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`},T=y?.efficiency?Math.round(y.efficiency*100):0,N=y?.quality?Math.round(y.quality*100):0,X=w>0?Math.round(b/w*100):0;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs(C,{children:[t.jsx(Q,{children:t.jsxs(H,{className:"flex items-center gap-2",children:[t.jsx(te,{className:"h-5 w-5"}),"Work Session Timer",n.isRunning&&t.jsx(E,{variant:"default",className:"animate-pulse",children:"ACTIVE"})]})}),t.jsxs(D,{children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-4xl font-mono font-bold text-primary mb-2",children:F(n.currentDuration)}),n.pausedTime>0&&t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Paused time: ",F(n.pausedTime)]})]}),t.jsx("div",{className:"flex gap-2 justify-center mb-4",children:!n.isRunning&&!n.sessionId?t.jsxs(v,{onClick:()=>_.mutate(),disabled:_.isPending,className:"flex items-center gap-2",children:[t.jsx(z,{className:"h-4 w-4"}),"Start Work"]}):t.jsxs(t.Fragment,{children:[n.isRunning?t.jsxs(v,{onClick:()=>I.mutate(!0),variant:"outline",className:"flex items-center gap-2",children:[t.jsx(se,{className:"h-4 w-4"}),"Pause"]}):t.jsxs(v,{onClick:()=>I.mutate(!1),className:"flex items-center gap-2",children:[t.jsx(z,{className:"h-4 w-4"}),"Resume"]}),t.jsxs(v,{onClick:()=>G.mutate(),variant:"destructive",className:"flex items-center gap-2",children:[t.jsx(re,{className:"h-4 w-4"}),"Complete"]})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[b," / ",w," pieces"]})]}),t.jsx(B,{value:X,className:"h-2"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{children:"Efficiency"}),t.jsxs("span",{children:[T,"%"]})]}),t.jsx(B,{value:T,className:`h-2 ${T>=80?"text-green-500":T>=60?"text-yellow-500":"text-red-500"}`})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{children:"Quality"}),t.jsxs("span",{children:[N,"%"]})]}),t.jsx(B,{value:N,className:`h-2 ${N>=90?"text-green-500":N>=75?"text-yellow-500":"text-red-500"}`})]})]})]})]})]}),u?t.jsx(C,{className:"border-orange-200 bg-orange-50",children:t.jsxs(D,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(M,{className:"h-5 w-5 text-orange-500"}),t.jsxs("span",{className:"font-medium capitalize",children:[u.type," Break"]}),t.jsx(E,{variant:"outline",children:"Active"})]}),t.jsx(v,{onClick:J,size:"sm",children:"End Break"})]}),t.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:["Started: ",u.startTime.toLocaleTimeString()]})]})}):t.jsx(C,{children:t.jsxs(D,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:"Break Management"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(v,{onClick:()=>L("tea"),size:"sm",variant:"outline",className:"flex items-center gap-1",children:[t.jsx(M,{className:"h-3 w-3"}),"Tea (15min)"]}),t.jsxs(v,{onClick:()=>L("lunch"),size:"sm",variant:"outline",className:"flex items-center gap-1",children:[t.jsx(M,{className:"h-3 w-3"}),"Lunch (60min)"]})]})]}),h.length>0&&t.jsxs("div",{className:"mt-3 text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Breaks taken: "}),h.map((i,f)=>t.jsxs(E,{variant:"secondary",className:"mr-1",children:[i.type," (",Math.round(i.duration/(1e3*60)),"min)"]},f))]})]})}),y&&t.jsxs(C,{children:[t.jsx(Q,{children:t.jsxs(H,{className:"flex items-center gap-2",children:[t.jsx(ie,{className:"h-5 w-5"}),"Live Performance"]})}),t.jsxs(D,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ae,{className:"h-4 w-4 text-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Efficiency"}),t.jsxs("div",{className:"font-semibold",children:[Math.round(y.efficiency*100),"%"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ne,{className:"h-4 w-4 text-green-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Quality"}),t.jsxs("div",{className:"font-semibold",children:[Math.round(y.quality*100),"%"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(oe,{className:"h-4 w-4 text-purple-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Rate"}),t.jsxs("div",{className:"font-semibold",children:[y.rate.toFixed(1)," pcs/hr"]})]})]})]}),y.estimatedEarnings&&t.jsxs("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"text-sm text-green-700",children:"Estimated Earnings (Today)"}),t.jsxs("div",{className:"text-xl font-bold text-green-800",children:["৳",y.estimatedEarnings.toFixed(2)]})]})]})]}),V.map(i=>t.jsxs(O,{className:i.type==="warning"?"border-yellow-200 bg-yellow-50":i.type==="success"?"border-green-200 bg-green-50":"border-blue-200 bg-blue-50",children:[t.jsx(ce,{className:"h-4 w-4"}),t.jsx($,{children:i.message})]},i.id))]})};export{Ce as ProductionTimer,Ce as default};
