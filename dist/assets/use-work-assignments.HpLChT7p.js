import{u,b as i,c}from"./query-vendor.BbCCZTU0.js";const r={getWorkBundles:async e=>({success:!0,data:{items:[],total:0,page:1,limit:10}}),getWorkBundleById:async e=>({success:!0,data:{id:e,name:`Bundle ${e}`,status:"active",workItems:[]}}),createWorkBundle:async e=>({success:!0,data:{id:"new-bundle-id",...e}}),update:async(e,t,n)=>({success:!0,data:{id:e,...t}}),getWorkItemsByBundle:async e=>({success:!0,data:[]}),createWorkItem:async e=>({success:!0,data:{id:"new-work-item-id",...e}}),getAssignments:async e=>({success:!0,data:{items:[],total:0,page:1,limit:10}}),assignWork:async e=>({success:!0,data:{id:"new-assignment-id",...e}}),completeAssignment:async e=>({success:!0,data:{id:e.assignmentId,status:"completed",...e}}),createAssignmentRequest:async(e,t,n)=>({success:!0,data:{id:"new-request-id",workItemId:e,operatorId:t,reason:n,status:"pending"}}),getAssignmentStatistics:async e=>({success:!0,data:{totalAssignments:0,activeAssignments:0,averageEfficiency:0,onTimeCompletion:0}})},s={all:["work-assignments"],bundles:()=>[...s.all,"bundles"],bundlesList:e=>[...s.bundles(),"list",{filters:e}],bundleDetail:e=>[...s.bundles(),"detail",e],workItems:()=>[...s.all,"work-items"],workItemsByBundle:e=>[...s.workItems(),"bundle",e],workItemDetail:e=>[...s.workItems(),"detail",e],assignments:()=>[...s.all,"assignments"],assignmentsList:e=>[...s.assignments(),"list",{filters:e}],assignmentDetail:e=>[...s.assignments(),"detail",e],operatorAssignments:e=>[...s.assignments(),"operator",e],statistics:()=>[...s.all,"statistics"],assignmentStats:e=>[...s.statistics(),"assignments",{filters:e}],requests:()=>[...s.all,"requests"],pendingRequests:()=>[...s.requests(),"pending"],operatorRequests:e=>[...s.requests(),"operator",e]};function d(e,t){return u({queryKey:s.bundlesList(e),queryFn:()=>r.getWorkBundles(e),staleTime:300*1e3,gcTime:600*1e3,...t})}function y(e,t){return u({queryKey:s.assignmentsList(e),queryFn:()=>r.getAssignments(e),staleTime:30*1e3,refetchInterval:60*1e3,...t})}function g(e,t){return u({queryKey:s.operatorAssignments(e),queryFn:()=>r.getAssignments({operatorId:e}),enabled:!!e,staleTime:30*1e3,refetchInterval:60*1e3,...t})}function q(){const e=i();return c({mutationFn:t=>r.completeAssignment(t),onSuccess:(t,n)=>{if(t.success){const a=t.data;e.setQueryData(s.assignmentDetail(n.assignmentId),a),e.invalidateQueries({queryKey:s.assignments()}),e.invalidateQueries({queryKey:s.operatorAssignments(a.operatorId)}),e.invalidateQueries({queryKey:s.workItemsByBundle(a.bundleId)}),e.invalidateQueries({queryKey:s.bundleDetail(a.bundleId)}),e.invalidateQueries({queryKey:s.statistics()}),e.invalidateQueries({queryKey:["operators"]})}}})}function k(){const e=i();return c({mutationFn:async t=>{const n=await Promise.allSettled(t.map(l=>r.assignWork(l))),a=n.filter(l=>l.status==="fulfilled"&&l.value.success).length,o=n.length-a;return{success:a>0,data:{successful:a,failed:o,total:n.length},results:n}},onSuccess:()=>{e.invalidateQueries({queryKey:s.assignments()}),e.invalidateQueries({queryKey:s.workItems()}),e.invalidateQueries({queryKey:s.statistics()})}})}function f(){const e=i();return c({mutationFn:({workItemId:t,operatorId:n,reason:a})=>r.createAssignmentRequest(t,n,a),onSuccess:(t,n)=>{t.success&&(e.invalidateQueries({queryKey:s.requests()}),e.invalidateQueries({queryKey:s.operatorRequests(n.operatorId)}))}})}function A(e,t){return u({queryKey:s.assignmentStats(e),queryFn:()=>r.getAssignmentStatistics(e),staleTime:120*1e3,refetchInterval:300*1e3,...t})}function p(e,t){return u({queryKey:["available-work-items",e],queryFn:async()=>({success:!0,data:[]}),enabled:!!e,staleTime:60*1e3,...t})}function v(e,t){return u({queryKey:["assignment-recommendations",e],queryFn:async()=>({success:!0,data:[]}),enabled:!!e,staleTime:300*1e3,...t})}function w(){return u({queryKey:["operators"],queryFn:async()=>({success:!0,data:[]})})}function K(){const e=i();return c({mutationFn:async t=>({success:!0,data:null}),onSuccess:()=>{e.invalidateQueries({queryKey:["work-sessions"]})}})}function b(){const e=i();return c({mutationFn:async t=>({success:!0,data:null}),onSuccess:()=>{e.invalidateQueries({queryKey:["work-sessions"]})}})}export{w as a,k as b,y as c,A as d,g as e,K as f,b as g,q as h,p as i,v as j,f as k,d as u};
