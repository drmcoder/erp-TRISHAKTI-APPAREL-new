import{j as e}from"./query-vendor.DpsghfSz.js";import{r}from"./react-vendor.CfKEcsXX.js";import{C as l,b as n,F as R,n as I,i as A,c as f,d as b,a as M}from"./index.CUWf0ERd.js";import{F as B}from"./TvIcon.Cz9yvviN.js";import{F as O}from"./ChartBarIcon.CTULyxD7.js";import{F}from"./ArrowTrendingUpIcon.DCVA9ozU.js";import{F as q}from"./CurrencyRupeeIcon.7xrTRvUQ.js";import"./ui-vendor.D450QVBF.js";import"./firebase-vendor.D8xw0AXf.js";import"./utils-vendor.B0NEtgzl.js";function H({title:c,titleId:d,...o},g){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:g,"aria-labelledby":d},o),c?r.createElement("title",{id:d},c):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const _=r.forwardRef(H);function z({title:c,titleId:d,...o},g){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:g,"aria-labelledby":d},o),c?r.createElement("title",{id:d},c):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const K=r.forwardRef(z),ae=({displayMode:c="desktop",autoRefresh:d=!0,refreshInterval:o=5e3,showAlerts:g=!0,className:P=""})=>{const[a,$]=r.useState(null),[C,E]=r.useState(new Date),[j,p]=r.useState("morning"),[U,w]=r.useState(!1),S=28,v=0;r.useEffect(()=>{const s=setInterval(()=>{E(new Date),T()},1e3);return()=>clearInterval(s)},[]),r.useEffect(()=>{const s=()=>{const y=Math.sin(Date.now()/3e5)*500;return{totalPieces:Math.floor(8500+y),completedToday:Math.floor(7225+y),inProgress:v.length*12,qualityIssues:Math.floor(170),averageEfficiency:87.5+Math.sin(Date.now()/6e5)*5,onTimeDelivery:94.2,targetsAchieved:23,totalTargets:28,earnings:{total:Math.floor(21250+y*2),operators:Math.floor(18700+y*2),supervisors:Math.floor(2550)},shifts:{morning:{active:28,efficiency:89.2,pieces:3200},evening:{active:25,efficiency:85.7,pieces:2950},night:{active:18,efficiency:82.1,pieces:2100}},topPerformers:[{id:"001",name:"Sunita Devi",pieces:245,efficiency:127.3,earnings:735},{id:"002",name:"Raj Kumar",pieces:238,efficiency:124.8,earnings:714},{id:"003",name:"Maya Singh",pieces:232,efficiency:119.5,earnings:696},{id:"004",name:"Ram Bahadur",pieces:228,efficiency:118.2,earnings:684},{id:"005",name:"Sita Kumari",pieces:225,efficiency:116.8,earnings:675}],alerts:[{id:"alert_001",type:"quality",message:"High defect rate detected in Bundle M-234",severity:"high",timestamp:new Date(Date.now()-15e3),location:"Line A"},{id:"alert_002",type:"delay",message:"Bundle M-189 behind schedule by 2 hours",severity:"medium",timestamp:new Date(Date.now()-45e3),location:"Line B"}],hourlyProduction:Array.from({length:24},(V,D)=>({hour:`${D.toString().padStart(2,"0")}:00`,target:380,actual:Math.floor(350+Math.random()*80),efficiency:Math.floor(85+Math.random()*20)}))}};if($(s()),d){const i=setInterval(()=>{$(s())},o);return()=>clearInterval(i)}},[d,o,v.length]);const T=()=>{const s=new Date().getHours();s>=6&&s<14?p("morning"):s>=14&&s<22?p("evening"):p("night")},L=()=>{document.fullscreenElement?(document.exitFullscreen(),w(!1)):(document.documentElement.requestFullscreen(),w(!0))},h=s=>new Intl.NumberFormat("en-IN").format(s),N=s=>s>=100?"text-green-600":s>=85?"text-blue-600":s>=70?"text-yellow-600":"text-red-600",k=s=>{switch(s){case"critical":return"border-red-600 bg-red-50 text-red-800";case"high":return"border-orange-500 bg-orange-50 text-orange-800";case"medium":return"border-yellow-500 bg-yellow-50 text-yellow-800";default:return"border-blue-500 bg-blue-50 text-blue-800"}};if(!a)return e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-lg",children:"Loading production data..."})]});const t=c==="tv",x=t?"text-lg":"text-sm",u=t?"text-2xl":"text-lg",m=t?"text-3xl":"text-xl";return e.jsxs("div",{className:`${t?"bg-gray-900 text-white min-h-screen p-6":"bg-gray-50 p-4"} ${P}`,children:[e.jsxs("div",{className:`flex items-center justify-between mb-6 ${t?"border-b border-gray-700 pb-4":""}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`${t?"text-4xl font-bold text-white":"text-2xl font-bold text-gray-900"}`,children:"🏭 TSA Production Live Dashboard"}),e.jsxs("div",{className:`flex items-center gap-2 ${t?"text-lg":"text-sm"} text-gray-${t?"300":"600"}`,children:[e.jsx(K,{className:"h-5 w-5 text-green-500"}),"Live"]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:`text-right ${t?"text-lg":"text-sm"}`,children:[e.jsx("div",{className:`${t?"text-2xl font-mono":"text-xl font-mono"} ${t?"text-white":"text-gray-900"}`,children:C.toLocaleTimeString()}),e.jsxs("div",{className:`text-${t?"gray-300":"gray-600"} capitalize`,children:[j," Shift"]})]}),c==="desktop"&&e.jsx("button",{onClick:L,className:"p-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:e.jsx(B,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:`grid gap-6 ${t?"grid-cols-4":"grid-cols-1 lg:grid-cols-3"}`,children:[e.jsxs("div",{className:`${t?"col-span-4":"col-span-full"} grid gap-4 ${t?"grid-cols-6":"grid-cols-2 lg:grid-cols-6"}`,children:[e.jsx(l,{className:`${t?"bg-gray-800 border-gray-700":""}`,children:e.jsxs(n,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(O,{className:`h-5 w-5 ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`text-${t?"gray-300":"gray-600"} ${x}`,children:"Total Production"})]}),e.jsx("div",{className:`${m} font-bold ${t?"text-white":"text-gray-900"}`,children:h(a.totalPieces)}),e.jsx("div",{className:`text-${t?"gray-400":"gray-500"} text-sm`,children:"pieces today"})]})}),e.jsx(l,{className:`${t?"bg-gray-800 border-gray-700":""}`,children:e.jsxs(n,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(R,{className:`h-5 w-5 ${t?"text-green-400":"text-green-600"}`}),e.jsx("span",{className:`text-${t?"gray-300":"gray-600"} ${x}`,children:"Completed"})]}),e.jsx("div",{className:`${m} font-bold ${t?"text-white":"text-gray-900"}`,children:h(a.completedToday)}),e.jsxs("div",{className:`text-${t?"gray-400":"gray-500"} text-sm`,children:[Math.round(a.completedToday/a.totalPieces*100),"% complete"]})]})}),e.jsx(l,{className:`${t?"bg-gray-800 border-gray-700":""}`,children:e.jsxs(n,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{className:`h-5 w-5 ${t?"text-purple-400":"text-purple-600"}`}),e.jsx("span",{className:`text-${t?"gray-300":"gray-600"} ${x}`,children:"Active Operators"})]}),e.jsx("div",{className:`${m} font-bold ${t?"text-white":"text-gray-900"}`,children:S.length}),e.jsxs("div",{className:`text-${t?"gray-400":"gray-500"} text-sm`,children:[v.length," working"]})]})}),e.jsx(l,{className:`${t?"bg-gray-800 border-gray-700":""}`,children:e.jsxs(n,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:`h-5 w-5 ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{className:`text-${t?"gray-300":"gray-600"} ${x}`,children:"Efficiency"})]}),e.jsxs("div",{className:`${m} font-bold ${N(a.averageEfficiency)}`,children:[a.averageEfficiency.toFixed(1),"%"]}),e.jsxs("div",{className:`text-${t?"gray-400":"gray-500"} text-sm flex items-center gap-1`,children:[a.averageEfficiency>100?e.jsx(F,{className:"h-3 w-3 text-green-500"}):e.jsx(_,{className:"h-3 w-3 text-red-500"}),"target: 85%"]})]})}),e.jsx(l,{className:`${t?"bg-gray-800 border-gray-700":""}`,children:e.jsxs(n,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(q,{className:`h-5 w-5 ${t?"text-green-400":"text-green-600"}`}),e.jsx("span",{className:`text-${t?"gray-300":"gray-600"} ${x}`,children:"Earnings"})]}),e.jsxs("div",{className:`${m} font-bold ${t?"text-white":"text-gray-900"}`,children:["₹",h(a.earnings.total)]}),e.jsx("div",{className:`text-${t?"gray-400":"gray-500"} text-sm`,children:"today"})]})}),e.jsx(l,{className:`${t?"bg-gray-800 border-gray-700":""}`,children:e.jsxs(n,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(A,{className:`h-5 w-5 ${t?"text-yellow-400":"text-yellow-600"}`}),e.jsx("span",{className:`text-${t?"gray-300":"gray-600"} ${x}`,children:"Quality Issues"})]}),e.jsx("div",{className:`${m} font-bold ${t?"text-white":"text-gray-900"}`,children:a.qualityIssues}),e.jsxs("div",{className:`text-${t?"gray-400":"gray-500"} text-sm`,children:[(a.qualityIssues/a.totalPieces*100).toFixed(1),"% rate"]})]})})]}),e.jsxs(l,{className:`${t?"bg-gray-800 border-gray-700":""}`,children:[e.jsx(f,{children:e.jsx(b,{className:`${u} ${t?"text-white":"text-gray-900"}`,children:"Shift Performance"})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(a.shifts).map(([s,i])=>e.jsxs("div",{className:`flex justify-between items-center p-3 rounded-lg ${s===j?t?"bg-blue-900 border border-blue-600":"bg-blue-50 border border-blue-200":t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:`font-semibold capitalize ${t?"text-white":"text-gray-900"}`,children:[s,s===j&&e.jsx(M,{variant:"default",className:"ml-2 text-xs",children:"ACTIVE"})]}),e.jsxs("div",{className:`text-sm text-${t?"gray-300":"gray-600"}`,children:[i.active," operators • ",h(i.pieces)," pieces"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:`text-lg font-bold ${N(i.efficiency)}`,children:[i.efficiency,"%"]})})]},s))})})]}),e.jsxs(l,{className:`${t?"bg-gray-800 border-gray-700":""}`,children:[e.jsx(f,{children:e.jsx(b,{className:`${u} ${t?"text-white":"text-gray-900"}`,children:"🏆 Top Performers"})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:a.topPerformers.slice(0,5).map((s,i)=>e.jsxs("div",{className:`flex items-center justify-between p-2 rounded ${t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${i===0?"bg-yellow-500 text-white":i===1?"bg-gray-400 text-white":i===2?"bg-orange-500 text-white":t?"bg-gray-600 text-white":"bg-gray-200 text-gray-700"}`,children:i+1}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:s.name}),e.jsxs("div",{className:`text-sm text-${t?"gray-300":"gray-600"}`,children:[s.pieces," pieces"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${N(s.efficiency)}`,children:[s.efficiency,"%"]}),e.jsxs("div",{className:`text-sm text-${t?"gray-300":"gray-600"}`,children:["₹",h(s.earnings)]})]})]},s.id))})})]}),g&&a.alerts.length>0&&e.jsxs(l,{className:`${t?"bg-gray-800 border-gray-700":""}`,children:[e.jsx(f,{children:e.jsx(b,{className:`${u} ${t?"text-white":"text-gray-900"}`,children:"🚨 Active Alerts"})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:a.alerts.slice(0,3).map(s=>e.jsx("div",{className:`p-3 rounded-lg border-l-4 ${k(s.severity)}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm",children:s.message}),e.jsxs("div",{className:"text-xs opacity-75 mt-1",children:["📍 ",s.location," • ",s.timestamp.toLocaleTimeString()]})]}),e.jsx(M,{outline:!0,className:"text-xs",children:s.severity.toUpperCase()})]})},s.id))})})]}),e.jsxs(l,{className:`${t?"col-span-4 bg-gray-800 border-gray-700":"col-span-full"}`,children:[e.jsx(f,{children:e.jsx(b,{className:`${u} ${t?"text-white":"text-gray-900"}`,children:"📊 Production Timeline (Last 24 Hours)"})}),e.jsx(n,{children:e.jsx("div",{className:"grid grid-cols-12 gap-2",children:a.hourlyProduction.slice(-12).map(s=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-xs text-${t?"gray-300":"gray-600"} mb-1`,children:s.hour}),e.jsxs("div",{className:`h-16 bg-${t?"gray-700":"gray-200"} rounded relative overflow-hidden`,children:[e.jsx("div",{className:"bg-blue-500 absolute bottom-0 w-full rounded transition-all duration-500",style:{height:`${s.actual/s.target*100}%`}}),e.jsx("div",{className:"bg-blue-300 absolute bottom-0 w-full opacity-50",style:{height:`${Math.min(100,s.actual/s.target*100)}%`}})]}),e.jsxs("div",{className:`text-xs mt-1 font-medium ${s.efficiency>=100?"text-green-500":s.efficiency>=85?"text-blue-500":"text-red-500"}`,children:[s.efficiency,"%"]})]},s.hour))})})]})]}),e.jsxs("div",{className:`fixed bottom-4 right-4 flex items-center gap-2 px-3 py-2 rounded-lg ${t?"bg-gray-800 border border-gray-600 text-white":"bg-white border border-gray-200 text-gray-600"} shadow-lg`,children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-sm",children:"Live Updates"})]})]})};export{ae as LiveProductionDashboard,ae as default};
